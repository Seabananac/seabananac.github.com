function a2d(n){
            return n*180/Math.PI;
        }
		
function getPos(obj){
	var l = 0;
	var t = 0;
	while(obj){
		l += obj.offsetLeft;
		t += obj.offsetTop;
		obj = obj.offsetParent;
		}
		return {left:l,top:t}
	}
		
function hoverDir (ev,obj){
            var a = ev.pageX - getPos(obj).l - obj.offsetWidth / 2;
			
            var b = getPos(obj).t + getPos(obj).l / 2 - ev.pageY;
			
			console.log(ev.pageX,getPos(obj).l,ev.pageY,getPos(obj).t)
			
            return Math.round((a2d(Math.atan2(b,a))+180)/90)%4;
        }

        function through(obj){
			
            var oS = obj.children[0];
			
            obj.onmouseenter = function(ev){
				
                var oEvent = ev || event;
				
                var dir = hoverDir(oEvent,obj);
				
                switch (dir){
                    case 0:
                        //左
                        oS.style.left = '-360px';
                        oS.style.top = 0;
                        break;
                    case 1:
                        //下
                        oS.style.left = 0;
                        oS.style.top = '225px';
                        break;
                    case 2:
                        //右
                        oS.style.left = '360px';
                        oS.style.top = 0;
                        break;
                    case 3:
                        //上
                        oS.style.left = 0;
                        oS.style.top = '-225px';
                        break;
                }
                move(oS,{left:0,top:0})
            };
			
            obj.onmouseleave = function(ev){
				
                var oEvent = ev||event;
				
                var dir = hoverDir(oEvent,obj);
				
                switch(dir){
                    case 0:
                        move(oS,{left:-360,top:0});
                        break;
                    case 1:
                        move(oS,{left:0,top:225});
                        break;
                    case 2:
                        move(oS,{left:360,top:0});
                        break;
                    case 3:
                        move(oS,{left:0,top:-225});
                        break;
                }
            };
        }
		
        addEvent(window,'load',function(){
            var aLi = document.getElementsByTagName('li');
            for(var i=0;i<aLi.length;i++){
                through(aLi[i])
            }
        })